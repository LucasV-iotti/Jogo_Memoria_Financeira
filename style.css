/* =============== Reset + Base =============== */
:root{
  --bg: #eaf6ff;                  /* fundo azul claro */
  --glass: rgba(255,255,255,0.65);/* cartões vítreos sobre fundo claro */
  --stroke: rgba(11,30,51,0.12);  /* bordas sutis em azul-escuro translúcido */
  --txt: #0b1e33;                 /* texto em azul bem escuro para contraste */
  --accent: #3aa0ff;              /* azul claro-acento */
  --ok: #23b18e;                  /* verde-ok */
  --no: #e64b62;                  /* vermelho-suave */
  --gold: #d8a928;                /* destaque */
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial;
  color:var(--txt);
  background: radial-gradient(1200px 700px at 10% -10%, #ffffff 0%, #f4fbff 35%, #e9f6ff 60%, #cfeaff 100%);
  overflow-x:hidden;
}
/* Starfield (suave, azulada) */
body::before, body::after{
  content:""; position:fixed; inset:0; pointer-events:none;
  background: transparent url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="2" height="2"><circle cx="1" cy="1" r="1" fill="%2373b6ff"/></svg>') repeat;
  opacity:.18; animation: drift 120s linear infinite; z-index:-2;
}
body::after{ opacity:.10; filter:blur(0.7px); animation-duration: 200s;}
@keyframes drift{ from{background-position:0 0} to{background-position:4000px 3000px} }

#app{max-width:1100px;margin:0 auto;padding:24px; position:relative; z-index:1}
.screen{display:none}
.screen.active{display:block}
.glass{background:var(--glass); border:1px solid var(--stroke); border-radius:16px; backdrop-filter: blur(8px); box-shadow: 0 8px 24px rgba(0,0,0,.12)}
.card{padding:24px}
.card.final{max-width:720px;margin:40px auto}
h1{margin:4px 0 8px 0; font-size:clamp(24px, 4vw, 36px)}
.subtitle{opacity:.9;margin-top:0}
.form-grid{display:grid; grid-template-columns: 1fr; gap:12px; margin:16px 0}
label{font-size:.95rem}
input{padding:12px 14px; border-radius:12px; border:1px solid var(--stroke); background: rgba(255,255,255,0.9); color:var(--txt)}
input:focus{outline:2px solid var(--accent)}
.rules{margin-top:16px}
.rules summary{cursor:pointer}
.rules ol{margin-left:18px}
.ok{color:var(--ok)}
.no{color:var(--no)}
.btn{appearance:none; border:none; padding:10px 14px; border-radius:10px; cursor:pointer; color:#0b0e1a; background:#b9e8ff; font-weight:600}
.btn:hover{filter:brightness(.96)}
.btn.primary{background:linear-gradient(135deg, #39b9ff, #6dd6ff)}
.btn:disabled{opacity:.6; cursor:not-allowed}
.badge{display:inline-block; padding:6px 10px; border-radius:999px; background:rgba(0,0,0,.04); border:1px solid var(--stroke)}
.hidden{display:none}
/* HUD */
.hud{display:flex; align-items:center; justify-content:space-between; padding:12px 16px; gap:12px; margin-bottom:16px}
.hud .stats{display:flex; gap:16px; align-items:center}
.controls{display:flex; align-items:center; gap:10px}
/* Board */
.board-wrapper{display:flex; justify-content:center}
.board{
  width:min(900px, 96vw);
  display:grid; grid-template-columns: repeat(4, 1fr); gap:14px; padding:8px
}
.card3d{ position:relative; aspect-ratio: 3/4; border-radius:14px; perspective: 800px; cursor:pointer;}
.card3d .inner{ position:absolute; inset:0; transition: transform .5s; transform-style:preserve-3d}
.card3d.flipped .inner{ transform: rotateY(180deg)}
.face{ position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:8px; backface-visibility:hidden; border-radius:14px; border:1px solid var(--stroke)}
/* FRONT = lado visível inicialmente (Memorize) */
.face.front{ background: linear-gradient(160deg, rgba(58,160,255,.18), rgba(58,160,255,.06));}
/* BACK = conteúdo do tema (emoji + nome) */
.face.back{ transform: rotateY(180deg); background: radial-gradient(300px 180px at 25% 30%, rgba(255,255,255,.92), rgba(255,255,255,.70));}
.card-theme{font-size: clamp(18px, 3vw, 22px); font-weight:700}
.card-emoji{font-size: clamp(36px, 8vw, 52px)}
.locked{ outline: 2px solid var(--accent)}
.matched{ outline: 2px solid var(--ok); opacity: .98}
/* Tips */
.tips{ text-align:center; margin-top:10px; opacity:.9}
/* Modal */
.modal{ border:none; padding:0; background:transparent }
.modal::backdrop{ background: rgba(0,0,0,.5)}
.modal-content{ min-width:min(640px, 92vw); padding:18px}
#question-title{ margin:0 0 8px 0}
#question-text{ margin:0 0 12px 0}
.options{ display:grid; grid-template-columns:1fr; gap:8px}
.option-btn{ text-align:left; padding:12px; border-radius:10px; background: rgba(255,255,255,.78); color:var(--txt); border:1px solid var(--stroke); cursor:pointer}
.option-btn:hover{ background: rgba(255,255,255,.88)}
.option-btn.correct{ outline: 2 px solid var(--ok)}
.option-btn.wrong{ outline: 2px solid var(--no)}
.modal-actions{ display:flex; justify-content:flex-end; gap:10px; margin-top:10px}
/* Final */
.score-grid{ display:grid; grid-template-columns: repeat(3, 1fr); gap:10px; margin:14px 0}
.score-item{ background: rgba(255,255,255,.78); padding:10px; border-radius:10px; text-align:center; border:1px solid var(--stroke)}
.highlight{ outline:2px solid var(--gold)}
.feedback{ font-size:1.05rem; margin:8px 0 0 0}
.final-actions{ display:flex; justify-content:center; margin-top:16px}
/* Toast */
.toast{ position: fixed; left:50%; bottom:24px; transform: translateX(-50%) translateY(30px); background: rgba(0,0,0,.7); color:white; padding:10px 14px; border-radius:999px; opacity:0; transition: all .25s; pointer-events:none }
.toast.show{ opacity:1; transform: translateX(-50%) translateY(0)}
@media (max-width: 680px){
  .board{ grid-template-columns: repeat(3, 1fr) }
}

/* ======= Objetos de fundo (planetas, foguete, nave, satélite) ======= */
/* Camadas: starfield (z<0) < objetos (0) < app (1) */
.bg-objects{ position:fixed; inset:0; z-index:0; pointer-events:none; }
.bg-objects .obj{ position:absolute; display:block; background-repeat:no-repeat; background-size:contain; opacity:.22; filter: drop-shadow(0 4px 12px rgba(0,0,0,.15)); }
@keyframes floatY { 0%{ transform: translateY(0)} 50%{ transform: translateY(-12px)} 100%{ transform: translateY(0)} }

/* Sprites SVG em data URI */
.bg-objects .planet{ width:160px; height:160px; animation: floatY 11s ease-in-out infinite; background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 128 128'>\n<defs><radialGradient id='g' cx='50%' cy='40%' r='65%'><stop offset='0%' stop-color='%23ffffff'/><stop offset='100%' stop-color='%23a3d9ff'/></radialGradient></defs>\n<circle cx='64' cy='64' r='36' fill='url(%23g)'/>\n<ellipse cx='64' cy='70' rx='62' ry='18' fill='none' stroke='%237ec3ff' stroke-width='6' opacity='.85'/>\n</svg>"); }
.bg-objects .rocket{ width:120px; height:120px; animation: floatY 9s ease-in-out infinite; background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 128 128'>\n<g fill='none' stroke='%234488ff' stroke-width='2'>\n<path d='M64 10c22 14 30 44 18 64L64 74 46 74C34 54 42 24 64 10z' fill='%23eaf6ff'/>\n<circle cx='64' cy='44' r='10' fill='%2399d4ff' stroke='%234488ff'/>\n<path d='M46 74l-16 18 22-8z' fill='%2399d4ff' stroke='%234488ff'/>\n<path d='M82 74l16 18-22-8z' fill='%2399d4ff' stroke='%234488ff'/>\n<path d='M64 74v22' stroke='%23ff9d66'/>\n<path d='M64 96c-6 8-18 10-18 10 8-6 8-14 8-14 2 4 10 4 10 4z' fill='%23ffd1b3' stroke='%23ff9d66'/>\n</g></svg>"); }
.bg-objects .ufo{ width:140px; height:140px; animation: floatY 13s ease-in-out infinite; background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 128 128'>\n<ellipse cx='64' cy='52' rx='28' ry='14' fill='%2399d4ff' opacity='.9'/>\n<ellipse cx='64' cy='68' rx='50' ry='16' fill='%237ec3ff'/>\n<g fill='%23eaf6ff'><circle cx='36' cy='68' r='4'/><circle cx='52' cy='68' r='4'/><circle cx='64' cy='68' r='4'/><circle cx='76' cy='68' r='4'/><circle cx='92' cy='68' r='4'/></g>\n</svg>"); }
.bg-objects .satellite{ width:120px; height:120px; animation: floatY 10s ease-in-out infinite; background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 128 128'>\n<rect x='54' y='48' width='20' height='20' fill='%2399d4ff' stroke='%234488ff'/>\n<rect x='20' y='52' width='28' height='12' fill='%23eaf6ff' stroke='%234488ff'/>\n<rect x='80' y='52' width='28' height='12' fill='%23eaf6ff' stroke='%234488ff'/>\n<path d='M64 48V36 M64 68v12' stroke='%234488ff'/>\n</svg>"); }

/* Posições específicas */
.planet-1{ top:8%; left:5%; }
.planet-2{ bottom:10%; right:6%; width:130px; height:130px; animation-duration: 12.5s; }
.rocket-1{ top:18%; right:12%; }
.ufo-1{ bottom:16%; left:12%; }
.sat-1{ top:55%; left:48%; width:110px; height:110px; animation-duration: 8.5s; }

/* Mobile: reduzir elementos para limpar o fundo */
@media (max-width: 680px){
  .bg-objects .obj{ opacity:.16 }
  .planet-2,.sat-1{ display:none }
}

/* Acessibilidade: reduzir movimento se usuário preferir */
@media (prefers-reduced-motion: reduce){
  .bg-objects .obj{ animation: none }
}
